<div>
    <label id="listbox-label" class="block text-sm/6 font-medium text-gray-900">Assigned to</label>
    <div class="relative mt-2">
        <button type="button" class="relative w-full cursor-default rounded-md bg-white py-[11px] pl-3 pr-10 text-left text-gray-900 ring-1 ring-inset ring-gray-300 focus:outline-none focus:ring-2 focus:ring-indigo-600 sm:text-sm/6" aria-haspopup="listbox" aria-expanded="true" aria-labelledby="listbox-label">
            <span class="block truncate text-gray-500 overflow-auto whitespace-normal">Select question</span>
            <span class="pointer-events-none absolute inset-y-0 right-0 flex items-center pr-2">
                <svg class="h-5 w-5 text-gray-400" viewBox="0 0 20 20" fill="currentColor" aria-hidden="true" data-slot="icon">
                    <path fill-rule="evenodd" d="M10.53 3.47a.75.75 0 0 0-1.06 0L6.22 6.72a.75.75 0 0 0 1.06 1.06L10 5.06l2.72 2.72a.75.75 0 1 0 1.06-1.06l-3.25-3.25Zm-4.31 9.81 3.25 3.25a.75.75 0 0 0 1.06 0l3.25-3.25a.75.75 0 1 0-1.06-1.06L10 14.94l-2.72-2.72a.75.75 0 0 0-1.06 1.06Z" clip-rule="evenodd"/>
                </svg>
            </span>
        </button>
        <ul class="absolute z-10 mt-1 max-h-60 w-full overflow-auto hidden rounded-md bg-white py-1 text-base shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none sm:text-sm" tabindex="-1" role="listbox" aria-labelledby="listbox-label" aria-activedescendant="listbox-option-3">
            <li class="relative cursor-default select-none py-2 pl-3 pr-9 text-gray-900 cursor-pointer transition hover:text-primary hover:bg-primary-light" id="listbox-option-0" role="option">
                <span class="block truncate font-normal overflow-auto whitespace-normal">If a squirrel stole your sandwich, what would you call it in revenge?</span>
            </li>
            <li class="relative cursor-default select-none py-2 pl-3 pr-9 text-gray-900 cursor-pointer transition hover:text-primary hover:bg-primary-light" id="listbox-option-0" role="option">
                <span class="block truncate font-normal overflow-auto whitespace-normal">If you were a secret agent, what would be your embarrassing code name?</span>
            </li>
            <li class="relative cursor-default select-none py-2 pl-3 pr-9 text-gray-900 cursor-pointer transition hover:text-primary hover:bg-primary-light" id="listbox-option-0" role="option">
                <span class="block truncate font-normal overflow-auto whitespace-normal">What’s your go-to dance move when nobody’s watching?</span>
            </li>
            <li class="relative cursor-default select-none py-2 pl-3 pr-9 text-gray-900 cursor-pointer transition hover:text-primary hover:bg-primary-light" id="listbox-option-0" role="option">
                <span class="block truncate font-normal overflow-auto whitespace-normal">If your pet had to give a speech about your life, what would they roast you for?</span>
            </li>
        </ul>

    </div>
</div>

<script>
    document.addEventListener('DOMContentLoaded', () => {
        const button = document.querySelector('button[aria-haspopup="listbox"]');
        const listbox = document.querySelector('[role="listbox"]');
        const options = listbox.querySelectorAll('[role="option"]');
        let selectedOption = options[0];

        button.addEventListener('click', () => {
            const isExpanded = button.getAttribute('aria-expanded') === 'true';
            button.setAttribute('aria-expanded', !isExpanded);
            listbox.classList.toggle('hidden', isExpanded);
        });

        options.forEach(option => {
            option.addEventListener('click', () => {
                selectedOption.classList.remove('font-semibold');
                selectedOption.classList.add('font-normal');

                selectedOption = option;
                selectedOption.classList.remove('font-normal');
                selectedOption.classList.add('font-semibold');

                const selectedText = selectedOption.querySelector('.truncate').textContent;
                button.querySelector('.truncate').textContent = selectedText;

                button.setAttribute('aria-expanded', false);
                listbox.classList.add('hidden');
            });
        });

        document.addEventListener('click', (event) => {
            if (!button.contains(event.target) && !listbox.contains(event.target)) {
                button.setAttribute('aria-expanded', false);
                listbox.classList.add('hidden');
            }
        });
    });

</script>